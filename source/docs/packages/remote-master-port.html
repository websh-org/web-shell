<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    integrity="sha256-9mbkOfVho3ZPXfM7W8sV2SndrGDuh7wuyLjtsWeTI1Q=" crossorigin="anonymous" />
  <link rel="stylesheet" href="/_styles/styles.css">
  </link>
  <title>@websh/remote-master-port</title>
</head>

<body>
  <main>
    <nav>
      
      
      <a class="item" data-toc-depth="0"" data-toc-active="false"
        href=" /">
        WebShell Docs
      </a >
      
      
      <span class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /getting-started/">
        Getting Started
      </span >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /getting-started/sandbox">
        Visit WebShell Sandbox
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /getting-started/template-repos">
        App Template Repos
      </a >
      
      
      <span class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /api/">
        App API Docs
      </span >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /api/how-it-works">
        How It Works
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /api/app-manifest">
        App Manifest
      </a >
      
      
      <span class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /api/file/">
        File API
      </span >
      
      
      <a class="item" data-toc-depth="3"" data-toc-active="false"
        href=" /api/file/manifest">
        Manifest
      </a >
      
      
      <a class="item" data-toc-depth="3"" data-toc-active="false"
        href=" /api/file/commands">
        Commands
      </a >
      
      
      <a class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /packages/">
        Npm Packages
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /packages/web-shell-app">
        web-shell-app
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /packages/remote-slave-port">
        remote-slave-port
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="true"
        href=" /packages/remote-master-port">
        remote-master-port
      </a >
      
      
      <a class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /about">
        About
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /milestones">
        Milestones
      </a >
      
    </nav>
    
    <article class="markdown-body">
      <h1>@websh/remote-master-port</h1>
      
      <p><strong><a href="https://github.com/websh-org/remote-master-port">https://github.com/websh-org/remote-master-port</a></strong></p>
<p>Master port for async cross-iframe messaging. Load this in the top window.</p>
<p>See <a href="remote-slave-port">remote-slave-port</a> for the other side of the channel (in the iframe).</p>
<p>The master port must innitiate the connection. </p>
<h2 id="synopsis">Synopsis</h2>
<pre><code class="language-bash">$ npm install @websh/remote-master-port</code></pre>
<pre><code class="language-js">import { RemoteMasterPort } from &quot;@websh/remote-master-port&quot;;

// the slave port in a child iframe must use 
// the same channelId to establish a channel
const channelId = &quot;my-channel&quot;; 
const myIframe = document.getElementById(&#39;my-iframe&#39;)
const myMasterPort = new RemoteMasterPort(channelId,myIframe);</code></pre>
<h2 id="methods">Methods</h2>
<p>All methods return the MasterSlavePort object, so you can chain method calls.</p>
<h3 id="async-connect"><code>async connect()</code></h3>
<p>Connect to the iframe. Returns the slave port&#39;s manifest or throws an error if connection has failed.</p>
<h3 id="send-string-command-object-args-"><code>send( String command, Object args )</code></h3>
<p>Send a command to the slave port, ignore any results.</p>
<h3 id="async-request-string-command-object-args-"><code>async request( String command, Object args )</code></h3>
<p>Send a command to the slave port, and wait for the result.</p>
<h3 id="on-string-event-object-data-"><code>.on( String event, Object data )</code></h3>
<p>Handle an event sent by the slave port.</p>

    </article>
  </main>
</body>

</html>