<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
    integrity="sha256-9mbkOfVho3ZPXfM7W8sV2SndrGDuh7wuyLjtsWeTI1Q=" crossorigin="anonymous" />
  <link rel="stylesheet" href="/_styles/styles.css">
  </link>
  <title>File API Manifest</title>
</head>

<body>
  <main>
    <nav>
      
      
      <a class="item" data-toc-depth="0"" data-toc-active="false"
        href=" /">
        WebShell Docs
      </a >
      
      
      <span class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /getting-started/">
        Getting Started
      </span >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /getting-started/sandbox">
        Visit WebShell Sandbox
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /getting-started/template-repos">
        App Template Repos
      </a >
      
      
      <span class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /api/">
        App API Docs
      </span >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /api/how-it-works">
        How It Works
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /api/app-manifest">
        App Manifest
      </a >
      
      
      <span class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /api/file/">
        File API
      </span >
      
      
      <a class="item" data-toc-depth="3"" data-toc-active="true"
        href=" /api/file/manifest">
        Manifest
      </a >
      
      
      <a class="item" data-toc-depth="3"" data-toc-active="false"
        href=" /api/file/commands">
        Commands
      </a >
      
      
      <a class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /packages/">
        Npm Packages
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /packages/web-shell-app">
        web-shell-app
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /packages/remote-slave-port">
        remote-slave-port
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /packages/remote-master-port">
        remote-master-port
      </a >
      
      
      <a class="item" data-toc-depth="1"" data-toc-active="false"
        href=" /about">
        About
      </a >
      
      
      <a class="item" data-toc-depth="2"" data-toc-active="false"
        href=" /milestones">
        Milestones
      </a >
      
    </nav>
    
    <article class="markdown-body">
      <h1>File API Manifest</h1>
      
      <p>Add this to your app&#39;s manifest to enable file operations.</p>
<pre><code class="language-js">{
  ...
  api: {
    Object file: {
      String new,
      Array&lt;String&gt;: open,
      Array&lt;String&gt;: save,
      Object formats: {
        &quot;format-id&quot;: Object {
          String name, 
          String extension, 
          String type,
          String accept,
          String encoding = &quot;text&quot;,
        }
      }
    }
  }
}</code></pre>
<ul>
<li><code>new</code> is the id of the &quot;native&quot; file format of the app. It will be used to name new files. It must refer to one of the file formats defined under <code>formats</code>.</li>
<li><code>open</code> is an array of ids of the file formats that the app can open.</li>
<li><code>save</code> is an array of ids of the file formats that the app can save.</li>
</ul>
<h3 id="file-formats-details">File formats details:</h3>
<ul>
<li><code>name</code> - The human readable name of this file format.<ul>
<li>Will be used for display in file dialogs and for naming new files.</li>
</ul>
</li>
<li><code>extension</code> - The extension for this file format. <ul>
<li>Will be appended to file names on Save As.</li>
<li>Unless `acceptË™ is satisfied, will be used for filtering files in file dialogs.</li>
</ul>
</li>
<li><code>type</code> - the content type of this format. <ul>
<li>Files of this format will be saved with this type.</li>
</ul>
</li>
<li><code>accept</code> - the filter for this file format in file dialogs. <ul>
<li>Uses the same format as the <code>accept</code> attribute of the HTML file input.</li>
</ul>
</li>
<li><code>encoding</code><ul>
<li>The encoding to be used when transferring this format. The valid values are:<ul>
<li><code>&quot;text&quot;</code> - The content is text and will be transfered as a string.</li>
<li><code>&quot;dataurl&quot;</code> - The content will be transferred as a data url.</li>
<li>Not yet implemented:<ul>
<li><code>&quot;json&quot;</code> - The content is JSON text and will be transfered as any JSONable value.</li>
<li><code>&quot;base64&quot;</code> - The content is binary and will be transfered as a base64-encoded string.</li>
<li><code>&quot;binary&quot;</code> - The content is binary and will be transferred as a <code>UInt8Array</code> buffer.</li>
<li><code>&quot;blob&quot;</code> - The content will be transferred as a blob object.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="example">Example</h3>
<pre><code class="language-json">{
  ...
  &quot;api&quot;: {
    &quot;file&quot;: {
      &quot;new&quot;: &quot;text&quot;,
      &quot;open&quot;: [&quot;text&quot;],
      &quot;save&quot;: [&quot;text&quot;],
      &quot;formats&quot;: {
        &quot;text&quot;: {
          &quot;name&quot;: &quot;Text File&quot;,
          &quot;extension&quot;: &quot;txt&quot;,
          &quot;type&quot;: &quot;text/plain&quot;,
          &quot;accept&quot;: &quot;text/*&quot;
        }
      }
    }
  }
}</code></pre>

    </article>
  </main>
</body>

</html>